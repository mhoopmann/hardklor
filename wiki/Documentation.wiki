#summary Command line and parameters for Hardklor

= Command Line =

Hardklör is operated from the command line:

=== *Usage:* hardklor _<config file>_ ===


_<config file>_ is an ASCII text configuration file containing the parameters to use and the list of files to analyze. Detailed parameter descriptions are found below. An example configuration file can be found [SampleConfig here].


= Parameters =

|| *Parameter* || *Value* || *Recommended Range of Values* || *Description* ||
|| algorithm || Text || Version2 || Possible algorithms to choose from: *Basic*, *Version1*, and *Version2*. This parameter determines which spectral feature detection algorithm to use. Different results are possible with each algorithm, and there are pros and cons to each. The Basic algorithm performs unoptimized deconvolution and is provided for legacy purposes only. Version1 uses the optimizations developed during the version 1.0+ series. It is very accurate, but has limited sensitivity, and moderate speed improvements. Version2 uses the optimizations developed for version 2.0+. It is highly sensitive, but less accurate for very low abundance features, and performs exceptionally fast.||
|| averagine_mod || Text || 0 || Defines alternative averagine models in the analysis that incorporate additional atoms and/or isotopic enrichments. Modifications are represented as text strings. Inclusion of additional atoms in the model is done using by entering an atomic formula,such as: *PO2* or *Cl*. Inclusion of isotopic enrichment to the model is done by specifying the percent enrichment (as a decimal) followed by the atom being enriched and an index of the isotope. For example, *0.75H1* specifies 75% enrichment of the first heavy isotope of hydrogen. In other words, 75% deuterium enrichment. Two or more modifications can be combined into the same model, and separated by spaces: *B2 0.5B1* This parameter can also be listed multiple times in the configuration file to include multiple competing averagine models in a single analysis. Setting this parameter to *0* disables use of modifications in the analysis.||
|| boxcar_averaging || Integer || 0 to 7 || Boxcar averaging is a sliding window that averages _n_ adjacent spectra prior to feature detection. Averaging generally improves the signal-to-noise ratio of features in the spectra, as well as improving the shape of isotopic envelopes. However, averaging will also change the observed peak intensities. Averaging with too wide a window will increase the occurrence of overlapping features and broaden the chromatographic profiles of observed features. The number specified is the total adjacent scans to be combined, centered on the scan being analyzed. Therefore, an odd number is recommended to center the boxcar window. For example, a value of *3* would produce an average of the scan of interest, plus one scan on each side. A value of *0* disables boxcar averaging.||
|| boxcar_filter || Integer || 0 to 7 || This parameter is only functional when _boxcar_averaging_ is used. The filter will remove any peaks not seen in _n_ scans in the boxcar window. The effect is to reduce peak accumulation due to noise and reduce chromatographic broadening of peaks. Caution should be used as over-filtering can occur. The suggested number of scans to set for filtering should be equal to or less than the boxcar_averaging window size. A value of *0* disables filtering.||
|| boxcar_filter_ppm || Number || 5.0 to 20.0 || This parameter is only functional when _boxcar_filter_ is used. The value specifies the mass tolerance in ppm for declaring a peak the same prior to filtering across all scans in the boxcar window.||
|| centroided || Integer || 0 or 1 || Indicates whether the data contain profile or centroided peaks. Set to *0* for profile peaks or *1* for centroided peaks. If the setting on this parameter does not match the data peaks, the results will be incorrect.||
|| charge_algorithm || Text || Quick || Determines the algorithm to use to predict the charge of any peak in a spectrum. Values are: *Quick*, *FFT*, *Patterson*, *Senko*, and *None*. Different algorithms produce different results and are discussed in the Hardklör manuscript. *Senko* combines the FFT and Patterson algorithms. If *None* is set, all charge states are assumed for all peaks, leaving the correct charge state to be determined by the feature-finding components of the algorithm at great computational expense. It is far more efficient to predict charge state prior to identifying features in the spectra.||
|| charge_min || Integer || 1 to 100 || Specifies the minimum charge state to allow when finding spectral features. It is best to set this value to the lowest assumed charge state to be present. If set higher than actual charge states that are present, those features will not be identified or incorrectly assigned a different charge state and mass.||
|| charge_max || Integer || 1 to 100 || Specifies the maximum charge state to allow when finding spectral features. It is best to set this value to a practical number (i.e. *do not* set it to 20 when doing a tryptic shotgun analysis). If set higher than actual charge states that are present, the algorithm will perform significantly slower without any improvement in results.||
|| correlation || Number || 0 to 1.0 || Sets the correlation threshold (cosine similarity) for accepting each predicted feature. Recommended values are between 0.85 and 0.95.||
|| depth || Integer || 1 to 10 || Sets the depth of combinatorial analysis. For a given set of peaks in a spectrum, search for up to this number of combined peptides that explain the observed peaks. The analysis stops before _depth_ is reached if the current number of deconvolved features explains the observed peaks with a correlation score above the threshold defined with the _correlation_ parameter. Setting this value too low will not adequately deconvolve overlapping peaks. Setting this value too high will cause exponential increases in computation time when trying to solve noise regions for which no peptide features can be found. Recommended values are 2 or 3.||
|| distribution_area || Integer || 0 or 1 || When reporting each feature, report abundance as the sum of all isotope peaks. The value reported is the estimate of the correct peak heights based on the averagine model scaled to the observed peak heights. Setting this value to 0 disables the parameter and reports only the maximum peak height of the observed isotope distribution.||
|| hardklor_data || Text || not set || This parameter does not need to be used. This parameter specifies an ASCII text file that defines symbols for the periodic table. Only advanced users with a need to change these values hsould use this parameter.||
|| instrument || Text || Orbitrap || Indicates the type of instrument used to collect data. This parameter, combined with the _resolution_ parameter, define how spectra will be centroided (if you provide profile spectra) and the accuracy when aligning observed peaks to the models. Possible values are *FTICR*, *Orbitrap*, *TOF*, and *QIT*.||
|| isotope_data || Text || not set || This parameter does not need to be used. This parameter specifies an ASCII text file that can be read to override the natural isotope abundances for all elements. Only advanced users with a need to change these values should use this parameter.||
|| max_features || Integer || 1 to 50 || Specifies the maximum number of models to build for a set of peaks being analyzed. Regardless of the setting, the number of models will never exceed the number of peaks in the current set. However, as many of the low abundance peaks are noise or tail ends of distributions, defining models for them is detrimental to the analysis. The recommended number of feature models to set is between 10 and 20.||
|| ms_level || Integer || 0 to 10 || Filters the spectra prior to analysis for the requested MS/MS level. For example, if the data contain MS and MS/MS spectra, setting ms_level = 1 will analyze only the MS scan events. Setting ms_level = 2 will analyze only the MS/MS scan events. Setting ms_level = 0 will analyze all spectra.||
|| mz_max || Number || 0 to 10000.0 || Constrains the search in each spectrum to signals below this value in Thomsons. Setting to 0 disables this feature.||
|| mz_min || Number || 0 to 10000.0 || Constrains the search in each spectrum to signals above this value in Thomsons. Setting to 0 disables this feature.||
|| mz_window || Number || 1.0 to 20.0 || Only used when _algorithm_ = Version1. Defines the maximum window size in Thomsons to analyze when deconvolving peaks in a spectrum into features. Setting a small value may divide isotope distributions into two windows. Setting a large value will create peak sets too difficult to deconvolve in a reasonable amount of time. Recommended value is between 5.25 and 6.50, which should be wide enough to identify +1 charge features.||
|| resolution || Integer || 1 to 1000000 || Specifies the resolution of the instrument at 400 m/z for the data being analyzed.||
|| scan_range_max || Integer || 0 to 1000000 || Used to restrict analysis to spectra with scan numbers below this parameter value. A value of 0 disables this feature.||
|| scan_range_min || Integer || 0 to 1000000 || Used to restrict analysis to spectra with scan numbers higher than this parameter value. A value of 0 disables this feature.||
|| sensitivity || Integer || 0 to 3 || Defines level of sensitivity when searching for features. More sensitivity will allow for features to be predicted with as few as two peaks. However, many of the new features are likely to be pulled from the noise and are not trustworthy. Additional validation steps external to Hardklor may be necessary. The recommended setting is 2.||
|| signal_to_noise || Number || 0 to 10.0 || Filters spectra to remove peaks below this signal-to-noise ratio prior to finding features. The noise threshold is determined as described in the manuscript.||
|| smooth || Integer || 0 to 21 || Uses Savitzky-Golay smoothing on profile peak data prior to centroiding the spectra. *This parameter is recommended for low resolution spectra only.* Use caution: smoothing data causes peak depression and broadening. Only use odd numbers for the degree of smoothing (as it defines a window centered on each data point). Higher values will produce smoother peaks, but with greater depression and broadening. Setting this parameter to 0 disables smoothing.||
|| sn_window || Number || 10.0 to 2000.0 || Computes local noise levels in the spectra with this window size in Thomsons. For most data, setting a size that divides the mass range between 4 and 10 windows is recommended.||
|| static_sn || Integer || 0 or 1 || Applies the lowest noise threshold of any sn_window across the entire mass range for a spectrum. Setting this parameter to 0 turns off this feature, and different noise thresholds will be used for each local mass window in a spectrum.||
|| xml || Integer || 0 or 1 || Enables exporting results in XML format. Setting 0 disables this parameter and reports results in the standard Hardklor output format.||